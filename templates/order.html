<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bite Buddies Orders</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f7f4e9;
            color: #4b4237;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: #fff6e0;
            border-bottom: 2px solid #4b4237;
        }

        header img {
            height: 200px;
        }

        nav a {
            text-decoration: none;
            color: #4b4237;
            font-size: 16px;
            margin: 0 15px;
        }

        nav a:hover {
            text-decoration: underline;
        }

        .balance {
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #4b4237;
            color: white;
            font-size: 24px;
            border-radius: 10px;
            display: inline-block;
        }

        .orders {
            margin: 20px auto;
            width: 80%;
        }

        .order-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border: 1px solid #4b4237;
            margin: 5px 0;
            border-radius: 5px;
            background-color: #fefcf5;
        }

        .order-row span {
            width: 30%;
            text-align: center;
        }
    </style>
</head>

<body>
    <header>
        <img src="logo.jpg" alt="Bite Buddies Logo">
        <nav>
            <a href="landingpage.html">Home</a>
            <a href="order.html">Orders</a>
            <a href="shopping_cart.html">Basket</a>
        </nav>
    </header>

    <main>
        <div class="balance" id="balanceDisplay">Balance: 54 Euros</div>

        <div class="orders" id="ordersContainer">
            <!-- Rows will be populated dynamically -->
        </div>
    </main>

    <script>
        // Example data fetched from the backend
        const orders = [
            { number: 432, status: "In Process", date: "18.11.24", time: "21:05" },
            { number: 73, status: "Cancelled", date: "18.11.24", time: "21:05" },
            { number: 129, status: "Completed", date: "18.11.24", time: "20:45" },
        ];

        let balance = 54; // Example balance, fetched dynamically as well

        // Function to populate the orders table
        function populateOrders() {
            const ordersContainer = document.getElementById("ordersContainer");
            ordersContainer.innerHTML = ""; // Clear existing rows

            // Loop through orders and create rows
            orders.forEach(order => {
                const row = document.createElement("div");
                row.classList.add("order-row");

                row.innerHTML = `
                    <span>Order no. ${order.number}</span>
                    <span>${order.status}</span>
                    <span>${order.date} ${order.time}</span>
                `;

                ordersContainer.appendChild(row);
            });
        }

        // Function to update the balance display
        function updateBalance(newBalance) {
            balance = newBalance; // Set the new balance
            const balanceDisplay = document.getElementById("balanceDisplay");
            balanceDisplay.textContent = `Balance: ${balance} Euros`; // Fixed the bug here
        }

        // Simulate fetching data and updating the UI
        function fetchDataFromBackend() {
            // Simulate delay for fetching orders (replace with API call in a real application)
            setTimeout(() => {
                // Simulate new data
                orders.push({
                    number: 500,
                    status: "In Process",
                    date: "18.11.24",
                    time: "21:45",
                });

                // Update balance
                updateBalance(44); // Example of new balance from backend

                // Re-populate the orders table
                populateOrders();
            }, 2000); // Simulate 2 seconds delay
        }

        // Initialize the UI
        populateOrders();

        // Simulate a backend data fetch
        fetchDataFromBackend();
    </script>
</body>

</html>
